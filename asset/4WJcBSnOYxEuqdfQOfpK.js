var _=Object.defineProperty;var f=(h,t,e)=>t in h?_(h,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[t]=e;var i=(h,t,e)=>f(h,typeof t!="symbol"?t+"":t,e);import{aP as b,aR as u,aI as C,C as v,w as d,ap as o,ao as a,an as m}from"./YuA7MKX-N8BBDZOAxa77.js";import"./CE5gmiwDNewmoagCdzUB.js";import"./C4CWNqOKDa2hgIMmL8UW.js";import"./DwwWpmeAjHPbRl1LR2u4.js";import"./GzLNAtZNvVIgBFPR69zY.js";import"./BjAV885S1e2rG_96LI9m.js";import{G as g}from"./xkzv0Qlxnfw76gdmPHyS.js";import{G as I}from"./DRzGo8zsW-bceYzdc799.js";import"./BeiKrpmzr5FDelkeUPJk.js";import"./BaEv58GwEyYUPx6KSmkr.js";import"./xPz_shXGDcOUm4Qkan6g.js";import"./r000o-h8vp740i0EdxY1.js";import"./B8zkdKxyUOEvZfzaRJKS.js";import"./BvVMhB1gVIHTVkmnp9Ll.js";import"./DCY65HotDeJ_7hiau8fc.js";import"./BnLZY3vCHg8G-zMp6QFV.js";import"./D6iVnI44rA0Q9_gX5YDl.js";import"./CPEAmnM_stuxQPE4iUkT.js";import"./BUjYG6qMQjp0KnokeClt.js";import"./b9QDabEUvKe6AI27JKho.js";import{b as L,k as y}from"./BehbJKW-Ic5ZiA7tfWXx.js";var M=Object.defineProperty,j=Object.getOwnPropertyDescriptor,s=(h,t,e,l)=>{for(var p=l>1?void 0:l?j(t,e):t,n=h.length-1,c;n>=0;n--)(c=h[n])&&(p=(l?c(t,e,p):c(p))||p);return l&&p&&M(t,e,p),p};class r{constructor(t,e){i(this,"app");i(this,"id");i(this,"joinedAt");i(this,"threads");i(this,"stickers");i(this,"stageInstances");i(this,"roles_");i(this,"emojis_");i(this,"memberCount");i(this,"lazy");i(this,"large");i(this,"guildScheduledEvents");i(this,"channels_");i(this,"name");i(this,"description",null);i(this,"icon",null);i(this,"splash",null);i(this,"banner",null);i(this,"features");i(this,"preferredLocale");i(this,"ownerId");i(this,"applicationId",null);i(this,"afkChannelId",null);i(this,"afkTimeout");i(this,"systemChannelId",null);i(this,"verificationLevel");i(this,"explicitContentFilter");i(this,"defaultMessageNotifications");i(this,"mfaLevel");i(this,"vanityUrlCode",null);i(this,"premiumTier");i(this,"systemChannelFlags");i(this,"discoverySplash",null);i(this,"rulesChannelId",null);i(this,"publicUpdatesChannelId",null);i(this,"maxVideoChannelUsers");i(this,"maxMembers");i(this,"nsfwLevel");i(this,"hubType",null);i(this,"members");i(this,"memberLists",new b);var l;this.app=t,this.roles_=new u,this.emojis_=new u,this.channels_=new u,this.members=new I(t,this),this.id=e.id,this.joinedAt=e.joined_at,this.threads=e.threads,this.stickers=e.stickers,this.stageInstances=e.stage_instances,this.memberCount=e.member_count,this.lazy=e.lazy,this.large=e.large,this.guildScheduledEvents=e.guild_scheduled_events,this.name=e.properties.name,this.description=e.properties.description,this.icon=e.properties.icon,this.splash=e.properties.splash,this.banner=e.properties.banner,this.features=e.properties.features,this.preferredLocale=e.properties.preferred_locale,this.ownerId=e.properties.owner_id,this.applicationId=e.properties.application_id,this.afkChannelId=e.properties.afk_channel_id,this.afkTimeout=e.properties.afk_timeout,this.systemChannelId=e.properties.system_channel_id,this.verificationLevel=e.properties.verification_level,this.explicitContentFilter=e.properties.explicit_content_filter,this.defaultMessageNotifications=e.properties.default_message_notifications,this.mfaLevel=e.properties.mfa_level,this.vanityUrlCode=e.properties.vanity_url_code,this.premiumTier=e.properties.premium_tier,this.systemChannelFlags=e.properties.system_channel_flags,this.discoverySplash=e.properties.discovery_splash,this.rulesChannelId=e.properties.rules_channel_id,this.publicUpdatesChannelId=e.properties.public_updates_channel_id,this.maxVideoChannelUsers=e.properties.max_video_channel_users,this.maxMembers=e.properties.max_members,this.nsfwLevel=e.properties.nsfw_level,this.hubType=e.properties.hub_type,t.roles.addAll(e.roles),t.emojis.addAll(e.emojis),t.channels.addAll(e.channels),e.roles.forEach(p=>this.roles_.add(p.id)),e.emojis.forEach(p=>{var n;return p.id&&((n=this.emojis_)==null?void 0:n.add(p.id))}),(l=e.channels)==null||l.forEach(p=>this.channels_.add(p.id)),C(this)}update(t){if("properties"in t){Object.assign(this,{...t,...t.properties});return}Object.assign(this,t)}updateMemberList(t){const e=this.memberLists.get(t.id);e?e.update(t):this.memberLists.set(t.id,new g(this.app,this,t))}getMemberList(t){return this.memberLists.get(t)}get acronym(){return L(this.name)}get channels(){let t=this.app.channels.all.filter(p=>this.channels_.has(p.id));return t=t.filter(p=>p.type===v.GuildCategory?t.some(n=>n.parentId===p.id&&n.hasPermission("VIEW_CHANNEL")):p.hasPermission("VIEW_CHANNEL")),t.filter(p=>!p.parentId).sort(y).flatMap(p=>[p,...t.filter(n=>n.parentId===p.id).sort(y)])}get roles(){return this.app.roles.all.filter(t=>this.roles_.has(t.id))}get emojis(){return this.app.emojis.all.filter(t=>this.emojis_.has(t.id))}addChannel(t){this.app.channels.add(t),this.channels_.add(t.id)}updateChannel(t){this.app.channels.update(t)}removeChannel(t){this.app.channels.remove(t),this.channels_.delete(t)}async kickMember(t,e){return this.app.rest.delete(d.guildMember(this.id,t),{},e?{"X-Audit-Log-Reason":e}:{})}async banMember(t,e,l){return this.app.rest.put(d.guildBan(this.id,t),{delete_message_seconds:l},{},e?{"X-Audit-Log-Reason":e}:{})}}s([o],r.prototype,"threads",2);s([o],r.prototype,"stickers",2);s([o],r.prototype,"stageInstances",2);s([o],r.prototype,"roles_",2);s([o],r.prototype,"emojis_",2);s([o],r.prototype,"memberCount",2);s([o],r.prototype,"lazy",2);s([o],r.prototype,"large",2);s([o],r.prototype,"guildScheduledEvents",2);s([o],r.prototype,"channels_",2);s([o],r.prototype,"name",2);s([o],r.prototype,"description",2);s([o],r.prototype,"icon",2);s([o],r.prototype,"splash",2);s([o],r.prototype,"banner",2);s([o],r.prototype,"features",2);s([o],r.prototype,"preferredLocale",2);s([o],r.prototype,"ownerId",2);s([o],r.prototype,"applicationId",2);s([o],r.prototype,"afkChannelId",2);s([o],r.prototype,"afkTimeout",2);s([o],r.prototype,"systemChannelId",2);s([o],r.prototype,"verificationLevel",2);s([o],r.prototype,"explicitContentFilter",2);s([o],r.prototype,"defaultMessageNotifications",2);s([o],r.prototype,"mfaLevel",2);s([o],r.prototype,"vanityUrlCode",2);s([o],r.prototype,"premiumTier",2);s([o],r.prototype,"systemChannelFlags",2);s([o],r.prototype,"discoverySplash",2);s([o],r.prototype,"rulesChannelId",2);s([o],r.prototype,"publicUpdatesChannelId",2);s([o],r.prototype,"maxVideoChannelUsers",2);s([o],r.prototype,"maxMembers",2);s([o],r.prototype,"nsfwLevel",2);s([o],r.prototype,"hubType",2);s([o],r.prototype,"members",2);s([o],r.prototype,"memberLists",2);s([a],r.prototype,"update",1);s([a],r.prototype,"updateMemberList",1);s([m],r.prototype,"acronym",1);s([m],r.prototype,"channels",1);s([m],r.prototype,"roles",1);s([m],r.prototype,"emojis",1);s([a],r.prototype,"addChannel",1);s([a],r.prototype,"updateChannel",1);s([a],r.prototype,"removeChannel",1);s([a],r.prototype,"kickMember",1);s([a],r.prototype,"banMember",1);export{r as G};
