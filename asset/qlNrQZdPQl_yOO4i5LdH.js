var l=Object.defineProperty;var n=(t,e,r)=>e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var m=(t,e,r)=>n(t,typeof e!="symbol"?e+"":e,r);import"./D_ZpYC3Ew8Bezl-0h3OI.js";import"./DmEtstg7swQ7i8QGEN4D.js";import{G as b}from"./CPWJQrUVesy-x3hwZUj8.js";import"./C4XUAn8A-wncPJhjaBPs.js";import"./B9fJR13iWWehQ2BrcfYV.js";import"./DMwlXDwmyiEQ8L43jrSt.js";import"./BjxM3yAyLpCQgAkN4H_j.js";import"./DfwHk0sCjMwE-hZzvBvJ.js";import"./CdDYBQguj4dY3sfHicOM.js";import"./DYOmRhjMlohAT47Pt9dd.js";import{ap as h,aI as f,ao as a,an as g}from"./DeTGZYeDNQQzD2Hg2g8t.js";var v=Object.defineProperty,c=Object.getOwnPropertyDescriptor,o=(t,e,r,s)=>{for(var i=s>1?void 0:s?c(e,r):e,u=t.length-1,d;u>=0;u--)(d=t[u])&&(i=(s?d(e,r,i):d(i))||i);return s&&i&&v(e,r,i),i};class p{constructor(e,r){m(this,"app");m(this,"guild");m(this,"members");this.app=e,this.guild=r,this.members=h.map(),f(this)}add(e){if(!e.user)throw new Error("Member does not have a user");if(this.members.has(e.user.id))return;const r=new b(this.app,this.guild,e);return this.members.set(e.user.id,r),r}addAll(e){e.forEach(r=>this.add(r))}remove(e){this.members.delete(e)}update(e){var r;if(!e.user)throw new Error("Member does not have a user");(r=this.members.get(e.user.id))==null||r.update(e)}get(e){return this.members.get(e)}has(e){return this.members.has(e)}asList(){return Array.from(this.members.values())}get size(){return this.members.size}get me(){var r;const e=(r=this.app.account)==null?void 0:r.id;return e?this.members.get(e):null}async resolve(e,r=!1){if(this.has(e)&&!r)return this.get(e);const s=await this.app.rest.get(`/users/${e}/profile`,{guild_id:this.guild.id});if(s.guild_member)return s.guild_member.user=s.user,this.add(s.guild_member)}}o([h],p.prototype,"members",2);o([a],p.prototype,"add",1);o([a],p.prototype,"addAll",1);o([a],p.prototype,"remove",1);o([a],p.prototype,"update",1);o([g],p.prototype,"me",1);o([a],p.prototype,"resolve",1);export{p as G};
