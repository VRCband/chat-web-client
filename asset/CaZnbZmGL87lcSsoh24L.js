import{a0 as c,j as r}from"./YuA7MKX-N8BBDZOAxa77.js";import{m as p}from"./Dc_sPPjyC58fRe14L2_s.js";import"./Clh8yRSf0L0oXb6LNsUf.js";import{I as F}from"./5aiE5jUjBMeUbLP8QDw7.js";const h="_embed_11ip9_1",y="_embedGap_11ip9_5",I="_embedImage_11ip9_18",g="_website_11ip9_24",v="_embedProvider_11ip9_43",x="_embedAuthor_11ip9_49",G="_embedAuthorIcon_11ip9_55",w="_embedAuthorName_11ip9_63",N="_embedAuthorNameLink_11ip9_71",T="_embedTitle_11ip9_79",k="_embedTitleLink_11ip9_92",A="_embedDescription_11ip9_100",j="_embedFooter_11ip9_111",z="_embedFooterIcon_11ip9_117",S="_embedFooterText_11ip9_125",V="_embedFooterSeperator_11ip9_133",B="_embedFields_11ip9_139",L="_embedField_11ip9_139",C="_embedFieldName_11ip9_151",D="_embedFieldValue_11ip9_156",E="_embedThumbnail_11ip9_161",P="_embedGifIcon_11ip9_176",R="_embedGifIconBg_11ip9_182",d={embed:h,embedGap:y,embedImage:I,website:g,embedProvider:v,embedAuthor:x,embedAuthorIcon:G,embedAuthorName:w,embedAuthorNameLink:N,embedTitle:T,embedTitleLink:k,embedDescription:A,embedFooter:j,embedFooterIcon:z,embedFooterText:S,embedFooterSeperator:V,embedFields:B,embedField:L,embedFieldName:C,embedFieldValue:D,embedThumbnail:E,embedGifIcon:P,embedGifIconBg:R};function $(e,t,o,a){const n=e/t;let s=e,l=t;return s>o&&(s=o,l=s/n),l>a&&(l=a,s=l*n),{width:Math.round(s),height:Math.round(l)}}function M(e,t,o,a){return e>o||t>a}function W({embed:e,width:t,height:o,thumbnail:a}){var l,_,b;let n=400,s=300;if((!t||!o)&&(e.video?(t=e.video.width,o=e.video.height):e.image?(t=e.image.width,o=e.image.height):e.thumbnail?(e.type!==c.Image&&((l=e.provider)==null?void 0:l.name)!=="GitHub"&&(n=80,s=80),t=e.thumbnail.width,o=e.thumbnail.height):(console.log("No media size provided"),t=400,o=300)),M(t,o,n,s)){const{width:i,height:m}=$(t,o,n,s);t=i,o=m}switch((_=e.provider)==null?void 0:_.name){case"YouTube":{if(!((b=e.video)!=null&&b.url))return null;const i=e.video.url;return r.jsx("iframe",{loading:"lazy",src:i,allowFullScreen:!0,style:{height:o,width:t}})}case"Spotify":{const i=e.url;if(!i)break;const m=i.match(/https:\/\/open\.spotify\.com\/(track|album|playlist)\/([a-zA-Z0-9]+)/);if(!m)break;const u=m[1],f=m[2];return r.jsx("iframe",{style:{width:"400px",height:"80px",borderRadius:12},src:`https://open.spotify.com/embed/${u}/${f}`,frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"})}case"Soundcloud":return r.jsx("iframe",{src:`https://w.soundcloud.com/player/?url=${encodeURIComponent(e.url)}&color=%23FF7F50&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true`,frameBorder:"0",scrolling:"no",loading:"lazy",style:{height:o}});case"Streamable":{const i=e.url;if(!i)break;const m=i.match(/https:\/\/streamable\.com\/([a-zA-Z0-9]+)/);if(!m)break;const u=m[1];return r.jsx("iframe",{src:`https://streamable.com/e/${u}?quality=highest`,frameBorder:"0",allowFullScreen:!0,seamless:!0,loading:"lazy",style:{height:o}})}default:if(e.video&&!a){const i=e.video.url;return r.jsxs("div",{children:[r.jsx("video",{className:d.embedImage,style:{width:t,height:o},src:i,loop:e.type===c.GIFV,controls:e.type!==c.GIFV,autoPlay:e.type===c.GIFV,muted:e.type===c.GIFV?!0:void 0,onClick:()=>{p.push({type:"image_viewer",attachment:e.video,isVideo:!0})}}),e.type===c.GIFV&&r.jsxs("div",{children:[r.jsx("div",{className:d.embedGifIconBg}),r.jsx(F,{icon:"mdiFileGifBox",size:1,className:d.embedGifIcon})]})]})}else if(e.image&&!a){const i=e.image.url;return r.jsx("img",{className:d.embedImage,src:i,loading:"lazy",onClick:()=>{p.push({type:"image_viewer",attachment:e.image})}})}else if(e.thumbnail){const i=e.thumbnail.url;return r.jsx("img",{className:a?d.embedThumbnail:d.embedImage,src:i,loading:"lazy",style:{height:o,width:t},onClick:()=>{p.push({type:"image_viewer",attachment:e.thumbnail})}})}}return null}export{W as E,d as s};
