var m=Object.defineProperty;var n=(t,e,r)=>e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var s=(t,e,r)=>n(t,typeof e!="symbol"?e+"":e,r);import{al as c,j as a,an as l,ao as i,ap as x}from"./YuA7MKX-N8BBDZOAxa77.js";import{A as p}from"./hFA30CzzHI-fNbq1-MKK.js";import{B as d}from"./aa86kImNz9DmsLOSF6N7.js";import{C as h}from"./DodAoSUqE1df-8t3go5V.js";import{C as v}from"./gH4c8sSbZBaR6I0AdHl3.js";import{C as M}from"./CbrI2IVemUd5CcWdU2ko.js";import{D as f}from"./oyzp-ezyyCbun2NdYRNK.js";import{E as k}from"./B-T5wMC4X4QxCCwKwcJr.js";import{I as b}from"./CSaPW9tbiM12KYqvQgxw.js";import{T as g}from"./RdPHlJwAayDc1ISafK3t.js";import"./aL6gpuAMuLaaLU9Iifwp.js";import"./D2D9ZzLlbufncFbGeIbC.js";import{J as u}from"./CbRg_H2fsutaE8pyLfvy.js";import{K as C}from"./0L_ipVtzRsKQEwmDfqAt.js";import{L as _}from"./ClA8aQjSZ8s_AZCczqmj.js";import{S as w}from"./DyNyTWVC_0Np9eHxOHFM.js";function S(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}class A{constructor(e){s(this,"stack",[]);s(this,"components");this.components=e,c(this,{stack:x,push:i,pop:i,remove:i,rendered:l,isVisible:l}),this.close=this.close.bind(this),this.closeAll=this.closeAll.bind(this)}push(e){this.stack=[...this.stack,{...e,key:S()}]}pop(e){this.stack=this.stack.map((r,o)=>o===this.stack.length-1?{...r,signal:e}:r)}close(){this.pop("close")}closeAll(){this.stack=[]}remove(e){this.stack=this.stack.filter(r=>r.key!==e)}get rendered(){return a.jsx(a.Fragment,{children:this.stack.map(({key:e,...r})=>{const o=this.components[r.type];return o?a.jsx(o,{...r,onClose:()=>this.remove(e)},e):null})})}get isVisible(){return this.stack.length>0}}class j extends A{writeText(e){navigator.clipboard?navigator.clipboard.writeText(e):this.push({type:"clipboard",text:e})}}const H=new j({add_server:p,ban_member:d,leave_server:_,create_channel:h,create_invite:v,create_server:M,join_server:u,delete_message:f,error:k,image_viewer:b,text_viewer:g,kick_member:C,settings:w});export{H as m};
