import{f as c,o as j,j as o}from"./YuA7MKX-N8BBDZOAxa77.js";import{A as h}from"./nu8JDqZndLwGuZCC0K2O.js";import{I as v}from"./B3LgffUjpB8z9LsVukfQ.js";import C from"./Cdv2WyegIJ50b7BuDfJZ.js";import{C as A}from"./C6B2VPnBNxKCdOzNcpOR.js";import{u as b}from"./CyJ5WJXEKPq0b3c1ZbHJ.js";import"./tsAyRgMDs-NXJHrTB2J5.js";import"./4WJcBSnOYxEuqdfQOfpK.js";import"./DySALqpNdPh9Jna_Spl3.js";import"./BecsZEBqk_fnN_DlRHyD.js";import"./xBFF9j8HBxXOELsgf_Mw.js";import"./BAn4QhXx0eqK_0X5ekrZ.js";import{Q as a}from"./Dmoj_W4VxmUkboS2v2aV.js";import"./D9XdRzw2tkI_TCjguAEr.js";import"./Y8-bfeL-ADaHJ2-vaWDg.js";import"./DEbnp1YMhIs7EiVOe-fW.js";import{M as E}from"./BTn4T-XY0GQWps5Uf3Yz.js";import{M as _}from"./BIFN6fmk8wpVzlbMk1GP.js";import{M as I,a as y,b as d,c as S,d as D}from"./Qp0kGOf4YUyyM-NxaXwk.js";import{M as N}from"./DOg1bz91ZHsNxYUe_2aB.js";import{A as Q}from"./CBy5QgLyPaCm41UCMkeA.js";function R({message:t,header:r}){var p,m;const s=b(),u=c.useContext(A),e=t.guild_id?s.guilds.get(t.guild_id):void 0,x="mention_everyone"in t&&t.mention_everyone,M="mentions"in t&&t.mentions.some(n=>n.id===s.account.id),l=e&&"mention_roles"in t&&t.mention_roles.some(n=>{var i;return(i=e.members.me)==null?void 0:i.roles.some(f=>n===f.id)});return o.jsxs(I,{header:r,mention:x||M||l,onContextMenu:n=>u.onContextMenu(n,{type:"message",message:t}),children:[o.jsx(y,{children:r?o.jsx(h,{user:t.author,size:32},t.author.id):o.jsx(d,{message:t,position:"left"})}),o.jsxs(S,{children:[r&&o.jsxs("span",{className:"message-details",children:[o.jsx(_,{message:t,guild:e}),o.jsx(d,{message:t,position:"top"})]}),o.jsx(D,{sending:"status"in t&&t.status===a.SENDING,failed:"status"in t&&t.status===a.FAILED,children:t.content&&o.jsx(C,{content:t.content})}),"attachments"in t&&t.attachments.map((n,i)=>o.jsx(E,{attachment:n},i)),"embeds"in t&&((p=t.embeds)==null?void 0:p.map((n,i)=>o.jsx(N,{embed:n},i))),"files"in t&&((m=t.files)==null?void 0:m.length)!==0&&o.jsx(Q,{message:t}),"invites"in t&&t.invites.map((n,i)=>o.jsx(v,{code:n,isSelf:t.author.id===s.account.id},i))]})]})}const g=c.memo(j(R));export{g as M};
