import{f as c,o as j,j as o}from"./DeTGZYeDNQQzD2Hg2g8t.js";import{A as h}from"./BhWPCFCD16S6BcL3upzJ.js";import{I as v}from"./BzTL_KHMgu6B4jCv5O_f.js";import C from"./CL7I_o0bFr2huvQMSy8o.js";import{C as A}from"./BfgMrksXN24ohQs4CfZt.js";import{u as b}from"./RfSsDsLnzSmF70stwuXp.js";import"./D_ZpYC3Ew8Bezl-0h3OI.js";import"./DmEtstg7swQ7i8QGEN4D.js";import"./CPWJQrUVesy-x3hwZUj8.js";import"./C4XUAn8A-wncPJhjaBPs.js";import"./B9fJR13iWWehQ2BrcfYV.js";import"./DMwlXDwmyiEQ8L43jrSt.js";import{Q as a}from"./BjxM3yAyLpCQgAkN4H_j.js";import"./DfwHk0sCjMwE-hZzvBvJ.js";import"./CdDYBQguj4dY3sfHicOM.js";import"./DYOmRhjMlohAT47Pt9dd.js";import{M as E}from"./DzxI620s9XdH1ZusicA1.js";import{M as _}from"./D_PmJZTo2RVLzFnDAVX8.js";import{M as I,a as y,b as d,c as S,d as D}from"./BydPL5yo60UwUJtBtwmx.js";import{M as N}from"./CLkdCiGhNIESikMHacCn.js";import{A as Q}from"./Dr1iB0Mtb2zJmdQpngYl.js";function R({message:t,header:r}){var p,m;const s=b(),u=c.useContext(A),e=t.guild_id?s.guilds.get(t.guild_id):void 0,x="mention_everyone"in t&&t.mention_everyone,M="mentions"in t&&t.mentions.some(n=>n.id===s.account.id),l=e&&"mention_roles"in t&&t.mention_roles.some(n=>{var i;return(i=e.members.me)==null?void 0:i.roles.some(f=>n===f.id)});return o.jsxs(I,{header:r,mention:x||M||l,onContextMenu:n=>u.onContextMenu(n,{type:"message",message:t}),children:[o.jsx(y,{children:r?o.jsx(h,{user:t.author,size:32},t.author.id):o.jsx(d,{message:t,position:"left"})}),o.jsxs(S,{children:[r&&o.jsxs("span",{className:"message-details",children:[o.jsx(_,{message:t,guild:e}),o.jsx(d,{message:t,position:"top"})]}),o.jsx(D,{sending:"status"in t&&t.status===a.SENDING,failed:"status"in t&&t.status===a.FAILED,children:t.content&&o.jsx(C,{content:t.content})}),"attachments"in t&&t.attachments.map((n,i)=>o.jsx(E,{attachment:n},i)),"embeds"in t&&((p=t.embeds)==null?void 0:p.map((n,i)=>o.jsx(N,{embed:n},i))),"files"in t&&((m=t.files)==null?void 0:m.length)!==0&&o.jsx(Q,{message:t}),"invites"in t&&t.invites.map((n,i)=>o.jsx(v,{code:n,isSelf:t.author.id===s.account.id},i))]})]})}const g=c.memo(j(R));export{g as M};
