var c=Object.defineProperty;var h=(s,t,e)=>t in s?c(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var i=(s,t,e)=>h(s,typeof t!="symbol"?t+"":t,e);import{q as r,J as x,al as m,j as n,am as p,an as a,ao as o,ap as d}from"./DeTGZYeDNQQzD2Hg2g8t.js";import{I as u}from"./CDt1z0NHkbfIQkt7ZP5a.js";import{O as k}from"./CauUQzpfvFvWk7cYkhvS.js";const f=r(x.div)`
	display: flex;
	justify-content: center;
	align-items: center;
`;r(u)`
	position: absolute;
	right: 1%;
`;function g(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const t=Math.random()*16|0;return(s==="x"?t:t&3|8).toString(16)})}class y{constructor(t){i(this,"stack",[]);i(this,"components");this.components=t,m(this,{stack:d,push:o,pop:o,remove:o,rendered:a,isVisible:a}),this.close=this.close.bind(this),this.closeAll=this.closeAll.bind(this)}push(t,e){if(e&&this.stack.find(l=>l.key===e)){console.warn(`Banner with key '${e}' already exists on the stack!`);return}this.stack=[...this.stack,{...t,key:e??g()}]}pop(){this.stack=this.stack.map((t,e)=>(e===this.stack.length-1,t))}close(){this.pop()}closeAll(){this.stack=[]}remove(t){this.stack=this.stack.filter(e=>e.key!==t)}get rendered(){return n.jsx(n.Fragment,{children:this.stack.map(t=>{const e=this.components[t.type];return e?n.jsx(p,{children:n.jsx(f,{variants:{show:{y:0,transition:{delayChildren:.3,staggerChildren:.2}},hide:{y:"-100%",transition:{delayChildren:.3,staggerChildren:.2}}},initial:"hide",animate:"show",exit:"hide",onAnimationComplete:()=>{console.debug("animation complete")},children:n.jsx(e,{...t,onClose:()=>this.remove(t.key)})})}):null})})}get isVisible(){return this.stack.length>0}}const w=new y({offline:k});export{w as b};
