import{u as d,f as u,j as e,w as m}from"./DeTGZYeDNQQzD2Hg2g8t.js";import{m as r}from"./CuA_0ud078oJ-lK1_bt7.js";import"./Bb1ggiTpiYWP0Snah0HS.js";import{u as v}from"./RfSsDsLnzSmF70stwuXp.js";import{u as h}from"./DMCex30FeWvvThtDj-pY.js";import{M as f}from"./BeHhE5cu_Zs49LScyuSd.js";function w({target:s,...i}){const l=v(),n=h("LeaveServerModal"),c=d(),[o,a]=u.useState(!1);async function p(){a(!0),await l.rest.delete(m.userGuild(s.id)).then(()=>{c("/channels/@me"),r.pop("close")}).catch(t=>{n.error(t),r.pop("close"),r.push({type:"error",error:t,title:"Failed to leave server",description:"An error occurred while trying to leave the server."})}).finally(()=>a(!1))}return e.jsx(f,{...i,title:`Leave '${s.name}'`,description:e.jsxs("span",{children:["Are you sure you want to leave ",e.jsx("b",{children:s.name}),"? You won't be able to rejoin this guild unless you are re-invited."]}),actions:[{onClick:p,children:e.jsx("span",{children:"Leave Server"}),palette:"danger",confirmation:!0,disabled:o,size:"small"},{onClick:()=>r.pop("close"),children:e.jsx("span",{children:"Cancel"}),palette:"link",disabled:o,size:"small"}]})}export{w as L};
