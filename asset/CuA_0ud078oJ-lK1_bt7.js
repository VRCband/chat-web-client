var m=Object.defineProperty;var n=(t,e,r)=>e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var s=(t,e,r)=>n(t,typeof e!="symbol"?e+"":e,r);import{al as c,j as a,an as l,ao as i,ap as x}from"./DeTGZYeDNQQzD2Hg2g8t.js";import{A as p}from"./CQ62NAF3_LlVht9IHiZd.js";import{B as d}from"./BVKDucQeUpIEkv15Arc_.js";import{C as h}from"./D8c7UxOPk7FWADunEI7g.js";import{C as v}from"./DV0D84PihdaO2-9jhuxp.js";import{C as M}from"./xIZAKuG02KxQxh_9R7vx.js";import{D as f}from"./Emurb1TTuDIkyHN37Ae2.js";import{E as k}from"./BMfEXEhv3nsMiKGLDOxR.js";import{I as b}from"./CfHJ0l_m3rUNO4JB6f38.js";import{T as g}from"./BWz0Z0T7dl1TZpxY65a2.js";import"./DO1PeWxIriVDh1Nqgyih.js";import"./Dpq7Ea_uUihmd6w-Ddw9.js";import{J as u}from"./D_7Xudcv48brKM1tXbPq.js";import{K as C}from"./CLs2o5cVkytxAAM_9C44.js";import{L as _}from"./C5KupxcYgNsCt8cDwMTJ.js";import{S as w}from"./MubzLo88AurpgXd7lFgL.js";function S(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}class A{constructor(e){s(this,"stack",[]);s(this,"components");this.components=e,c(this,{stack:x,push:i,pop:i,remove:i,rendered:l,isVisible:l}),this.close=this.close.bind(this),this.closeAll=this.closeAll.bind(this)}push(e){this.stack=[...this.stack,{...e,key:S()}]}pop(e){this.stack=this.stack.map((r,o)=>o===this.stack.length-1?{...r,signal:e}:r)}close(){this.pop("close")}closeAll(){this.stack=[]}remove(e){this.stack=this.stack.filter(r=>r.key!==e)}get rendered(){return a.jsx(a.Fragment,{children:this.stack.map(({key:e,...r})=>{const o=this.components[r.type];return o?a.jsx(o,{...r,onClose:()=>this.remove(e)},e):null})})}get isVisible(){return this.stack.length>0}}class j extends A{writeText(e){navigator.clipboard?navigator.clipboard.writeText(e):this.push({type:"clipboard",text:e})}}const H=new j({add_server:p,ban_member:d,leave_server:_,create_channel:h,create_invite:v,create_server:M,join_server:u,delete_message:f,error:k,image_viewer:b,text_viewer:g,kick_member:C,settings:w});export{H as m};
